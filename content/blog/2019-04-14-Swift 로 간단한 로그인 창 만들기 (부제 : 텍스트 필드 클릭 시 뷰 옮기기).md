---
title: Swift ë¡œ ê°„ë‹¨í•œ ë¡œê·¸ì¸ ì°½ ë§Œë“¤ê¸°
date: 2019-04-14 00:00:00
categories:
  - Swift
tags:
  - Swift
  - ìŠ¤ìœ„í”„íŠ¸
---

ë¶€ì œ : í…ìŠ¤íŠ¸ í•„ë“œ í´ë¦­ ì‹œ ë·° ì˜®ê¸°ê¸°

Swift ë¡œ ê°„ë‹¨í•œ ë¡œê·¸ì¸ ì°½ì„ ë§Œë“¤ê³ , autoLayoutì„ ì´ìš©í•˜ì—¬ ë·°ë¥¼ ì´ë™ì‹œí‚¤ëŠ” ë°©ë²•ì— ëŒ€í•´ì„œ ì•Œì•„ë´…ë‹ˆë‹¤.

ë˜í•œ ë·°ì˜ ë‹¤ë¥¸ ê³³ì„ í„°ì¹˜í–ˆì„ ë•Œ, í‚¤ë³´ë“œê°€ ì‚¬ë¼ì§€ê²Œ í•©ë‹ˆë‹¤.

### ì˜¤ëŠ˜ ë§Œë“¤ ê²°ê³¼ë¬¼

<img src="/assets/images/19-04-15/IMG_1265.PNG" width="300" />
<br/>
<img src="/assets/images/19-04-15/IMG_1283.PNG" width="300" />

í…ìŠ¤íŠ¸ í•„ë“œ ì „ì—ëŠ” ê°€ìš´ë° ì •ë ¬ì´ ë˜ì–´ ë³´ì´ê³ , í…ìŠ¤íŠ¸ í•„ë“œ ì„ íƒ ì‹œì—ëŠ” í‚¤ë³´ë“œ ë†’ì´ë§Œí¼ì„ ì œì™¸í•œ ë·°ì—ì„œ ê°€ìš´ë° ì •ë ¬ì´ í•´ì„œ ë³´ì´ê²Œ ë§Œë“¤ ê²ƒ ì…ë‹ˆë‹¤.

#### ì£¼ì˜

ì•½ê°„ì˜ ì‚½ì§ˆì´ í•„ìš”í–ˆìŠµë‹ˆë‹¤.<br />
í‚¤ë³´ë“œì—ì„œ FaceIdë¡œ ì¸ì‹ì´ ê±°ì ˆë˜ê³ , ëœ¨ëŠ” alertì—ì„œ ì·¨ì†Œë¥¼ ëˆ„ë¥¼ ì‹œì— keyBoardShowê°€ 2ë²ˆ ì‹¤í–‰ì´ ë©ë‹ˆë‹¤. <br />
Anchor ì˜ isActive ê°€ ë‹¤ë¥¸ ë†’ì´ë¡œ 2ë²ˆ trueë˜ëŠ” í˜„ìƒì„ ë°©ì§€í•˜ê¸° ìœ„í•´ ì¡°ê±´ë¬¸ì„ ë‹¨ ëª¨ìŠµì„ ë³¼ ìˆ˜ ìˆì„ ê²ƒ ì…ë‹ˆë‹¤. <br/>

> ì‹œë®¬ë ˆì´í„°ë¡œ ëŒë¦´ ì‹œì—ëŠ” í•˜ë“œì›¨ì–´ í‚¤ë³´ë“œê°€ ë³´ì—¬ì•¼ì§€ ì œëŒ€ë¡œ ì‘ë™í•©ë‹ˆë‹¤. (í•˜ë“œì›¨ì–´ í‚¤ë³´ë“œ ë³´ì´ê¸° : âŒ˜ + K)

#### ì „ì²´ ì½”ë“œ

ë³„ë„ì˜ storyboard ì—†ì´ ë³µì‚¬ ë¶™ì—¬ë„£ê¸°ë¥¼ í•˜ë©´ ë°”ë¡œ ë³´ì´ê²Œ ë©ë‹ˆë‹¤ <br/>

### ì‹¤ì œ ì‹¤í–‰ ê²°ê³¼ëŠ”

<img src="/assets/images/19-04-15/screen.png" width="300" />

<br/>
<img src="/assets/images/19-04-15/screen2.png" width="300" />

í…ìŠ¤íŠ¸ ë·° í´ë¦­ ì‹œ ë·°ê°€ ìë™ìœ¼ë¡œ ìœ„ë¡œ ì˜¬ë¼ê°€ëŠ” ê²ƒì´ ë³´ì´ë©´ ì •ìƒì…ë‹ˆë‹¤.

> ì²« ì´ë¯¸ì§€ì˜ í…ìŠ¤íŠ¸ í•„ë“œë¥¼ ì‚¬ìš©í•˜ê³  ì‹¶ìœ¼ë©´ 'AnimatedTextInput' ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê²€ìƒ‰í•˜ì„¸ìš”.

```Swift
//
// ViewController.swift
// 190415
//
// Created by OOPSLA on 15/04/2019.
// Copyright Â© 2019 haeun. All rights reserved.
//

import UIKit

class ViewController: UIViewController {

    private var mainViewCenterYanchor: NSLayoutConstraint?
    private var mainViewTopAnchor: NSLayoutConstraint?
    private var checkShow = false



    override func viewDidLoad() {
        super.viewDidLoad()
    }

    override func viewWillAppear(_ animated: Bool) {
        super.viewWillAppear(animated)

        initView()

        NotificationCenter.default.addObserver(
            self,
            selector: #selector(keyboardWillShow),
            name: UIResponder.keyboardWillShowNotification,
            object: nil
        )
        NotificationCenter.default.addObserver(
            self,
            selector: #selector(keyboardWillHide),
            name: UIResponder.keyboardWillHideNotification,
            object: nil
        )
    }

    @objc func moveView() {
        self.navigationController?.pushViewController(ViewController(), animated: true)
    }
    // í‚¤ë³´ë“œ ì˜¬ë¼ì˜¤ê±°ë‚˜ ë‚´ë ¤ê°ˆ ë•Œ ë·° ì´ë™ì‹œí‚¤ëŠ” í•¨ìˆ˜
    fileprivate func handleKeyboardIssue(notification: Notification, isAppearing: Bool) {
        // 1. í‚¤ë³´ë“œ ë†’ì´ êµ¬í•¨
        guard let keyboardFrame = (notification.userInfo?[UIResponder.keyboardFrameEndUserInfoKey] as? NSValue)?.cgRectValue else {return}

        let keyboardHeight = keyboardFrame.height

        let heightConstant = isAppearing ? keyboardHeight : 0

        // 2. ì–´ì°¨í”¼ ëª¨ë“  ë·°ëŠ” mainViewì— ê·€ì†ë˜ì–´ìˆê¸° ë•Œë¬¸ì— mainView ì˜ centerYanchor ë¥¼ topAnchor ë¡œ ë°”ê¿ˆ
        let topSize = (self.view.frame.height - heightConstant) - mainView.frame.height

        if checkShow {
            if mainViewTopAnchor != nil {
                // í‚¤ë³´ë“œì˜ ìë™ passWords ê°€ ì–¼êµ´ ì¸ì‹ì„ ëª»í•˜ê³  ì·¨ì†Œë¥¼ ëˆ„ë¥´ë©´ keyboardWillShowê°€ ë‘ë²ˆ ì‹¤í–‰ë˜ê¸° ë•Œë¬¸ì— ë§Œì•½ trueì¼ ë•Œ falseë¡œ í•œë²ˆ í•´ì£¼ê³  í•´ì•¼í•¨.

                // ë” ì„¤ëª…ì„ í•˜ìë©´ initViewì—ì„œ mainViewTopAnchor ê°€ isActiveê°€ trueë˜ì–´ ìˆê³ 
                // ì¡°ê±´ë¬¸ì´ ì—†ì—ˆë‹¤ë©´ ìƒˆë¡œìš´ mainViewTopAnchor ë¥¼ ì„ ì–¸í•œ ì±„ë¡œ ë˜ isActive ë¥¼ true í•˜ë©´
                // ë‘˜ ì¤‘ ë¬´ì—‡ì„ ì„ íƒí•  ì§€ ëª¨ë¦„ìœ¼ë¡œ true ì¼ ë•Œ, false í•´ì£¼ê³  ìƒˆë¡œìš´ mainViewTopAnchorë¥¼ true í•œë‹¤.
                if mainViewTopAnchor!.isActive{
                    mainViewTopAnchor!.isActive = false
                }
            }
            mainViewCenterYanchor?.isActive = false
            mainViewTopAnchor = mainView.topAnchor.constraint(equalTo: self.view.topAnchor, constant: topSize/2)
            mainViewTopAnchor!.isActive = true
        }else{
            mainViewTopAnchor!.isActive = false
            mainViewCenterYanchor?.isActive = true
        }

        UIView.animate(withDuration: 1) {
            self.view.layoutIfNeeded()
        }
    }

    @objc func keyboardWillHide(_ notification: Notification){
        print("Keyboard hide")
        checkShow = false
        handleKeyboardIssue(notification: notification, isAppearing: false)
    }

    @objc func keyboardWillShow(_ notification: Notification){
        print("Keyboard show")
        checkShow = true
        handleKeyboardIssue(notification: notification, isAppearing: true)
    }

    let mainView : UIView = {
        let view = UIView()
        view.translatesAutoresizingMaskIntoConstraints = false
        return view
    }()
    let ID_textField : UITextField = {
        let text = UITextField()
        text.placeholder = "ì•„ì´ë””"
        text.translatesAutoresizingMaskIntoConstraints = false
        return text
    }()

    let Pass_textField : UITextField = {
        let text = UITextField()
        text.placeholder = "ë¹„ë°€ë²ˆí˜¸"
        text.isSecureTextEntry = true
        text.translatesAutoresizingMaskIntoConstraints = false
        return text
    }()

    let enter_Btn : UIButton = {
        let button  = UIButton()

// button.isEnabled = false
// button.setTitle("ì •ë³´ë¥¼ ì •í™•íˆ ì…ë ¥í•´ì£¼ì„¸ìš”.", for: .disabled)
button.setTitle("í™•ì¸", for: .normal)
button.backgroundColor = #colorLiteral(red: 0, green: 0.6043059826, blue: 0.614680171, alpha: 1)
button.layer.cornerRadius = 10
button.titleLabel?.font = UIFont.systemFont(ofSize: 15, weight: .heavy)
button.setTitleColor(UIColor.white, for: .normal)
button.translatesAutoresizingMaskIntoConstraints = false
return button
}()
let signInLabel : UILabel = {
let label = UILabel()
label.translatesAutoresizingMaskIntoConstraints = false
label.text = "ê³„ì •ì´ ì—†ìœ¼ì‹ ê°€ìš”? "
label.textColor = .gray
label.font = UIFont.systemFont(ofSize: 13, weight: .medium)
return label
}()
let signInButton : UIButton = {
let button = UIButton()
button.translatesAutoresizingMaskIntoConstraints = false
button.setTitle("ê°€ì…í•˜ê¸°", for: .normal)
button.titleLabel?.font = UIFont.systemFont(ofSize: 15, weight: .heavy)
button.setTitleColor(UIColor.gray, for: .normal)
return button
}()
let signView : UIView = {
let view = UIView()
view.translatesAutoresizingMaskIntoConstraints = false
return view
}()
// MARK : Set View
private func initView(){
hideKeyboardWhenTappedAround()
signView.addSubview(signInLabel)
signView.addSubview(signInButton)

        mainView.addSubview(ID_textField)
        mainView.addSubview(Pass_textField)
        mainView.addSubview(enter_Btn)
        mainView.addSubview(signView)

        view.addSubview(mainView)

        enter_Btn.addTarget(self, action: #selector(moveView), for: .touchDown)

        let margin = CGFloat(20)

        mainViewCenterYanchor = mainView.centerYAnchor.constraint(equalTo: view.centerYAnchor, constant: 0)
        mainViewCenterYanchor?.isActive = true


        NSLayoutConstraint.activate([

            mainView.widthAnchor.constraint(equalToConstant: view.frame.width),

            ID_textField.topAnchor.constraint(equalTo: mainView.topAnchor, constant: 0),
            ID_textField.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: margin),
            ID_textField.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -margin),
            ID_textField.bottomAnchor.constraint(equalTo: Pass_textField.topAnchor, constant: 0),

            Pass_textField.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: margin),
            Pass_textField.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -margin),
            Pass_textField.bottomAnchor.constraint(equalTo: enter_Btn.topAnchor, constant: -10),

            enter_Btn.leadingAnchor.constraint(equalTo: view.leadingAnchor, constant: 40),
            enter_Btn.trailingAnchor.constraint(equalTo: view.trailingAnchor, constant: -40),
            enter_Btn.heightAnchor.constraint(equalToConstant: 50),

            signView.topAnchor.constraint(equalTo: enter_Btn.bottomAnchor, constant: 40),
            signView.centerXAnchor.constraint(equalTo: view.centerXAnchor, constant: 0),
            signView.heightAnchor.constraint(equalToConstant: 40),
            signView.bottomAnchor.constraint(equalTo: mainView.bottomAnchor, constant: 0),

            signInLabel.centerYAnchor.constraint(equalTo: signView.centerYAnchor, constant: 0),
            signInLabel.leadingAnchor.constraint(equalTo: signView.leadingAnchor, constant: 0),

            signInButton.centerYAnchor.constraint(equalTo: signView.centerYAnchor, constant: 0),
            signInButton.leadingAnchor.constraint(equalTo: signInLabel.trailingAnchor, constant: 10),
            signInButton.trailingAnchor.constraint(equalTo: signView.trailingAnchor, constant: 0),
            ])

    }

}
// ë·° ì•„ë¬´ê³³ì´ë‚˜ ëˆ„ë¥´ë©´ í‚¤ë³´ë“œ ë‚´ë ¤ê°€ê²Œ
extension ViewController {
func hideKeyboardWhenTappedAround() {
let tapGesture = UITapGestureRecognizer(target: self,
action: #selector(hideKeyboard))
// í…Œì´ë¸” ë·°ë‚˜ ì»¬ë ‰ì…˜ ë·°ì—ì„œ ì„¤ì •ì•ˆí•´ì£¼ë©´ ê·¸ ì•ˆì— ìˆëŠ” ì…€ í´ë¦­ ì´ë²¤íŠ¸ ë°œìƒí•˜ì§€ ì•ŠìŒ.
tapGesture.cancelsTouchesInView = false
view.addGestureRecognizer(tapGesture)
}

    @objc func hideKeyboard() {

        view.endEditing(true)
    }

}

```

## Any question?ğŸ™‹â€

ì½”ë“œì— ë¬¸ì œê°€ ìˆê±°ë‚˜ ì–´ë–¤ ì§ˆë¬¸ì´ë“  í¸í•˜ê²Œ ë©”ì¼ì„ ë³´ë‚´ì£¼ì„¸ìš”!

Please email me with any questions or concerns! ğŸ˜ƒ<br/>
ğŸ’Œ : sch.haeun@gmail.com

```

```
