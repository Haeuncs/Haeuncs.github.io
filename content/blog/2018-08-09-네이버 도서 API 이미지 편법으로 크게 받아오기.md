---
title: 네이버 도서 API 이미지 편법(?)으로 크게 받아오기
date: 2018-08-09 00:00:00
categories:
  - Swift
tags:
  - Swift
  - 스위프트
  - 네이버 API 이미지
  - 네이버 도서 API 이미지
---

# 대체 왜 네이버 API에서는 고화질 이미지를 제공하지 않는가!

네이버 도서 API 데이터를 기반으로 만들고 있던 앱을 거의 완성하고 디테일을 손보는 중에...<br/>
이미지의 해상도가 매우 낮은 것을 발견했다. 물론 코딩하면서 알아채긴 했지만 이미지를 작게 손보는거로 해결하긴 했었다.<br/>
하지만 기능이 제대로 돌아간다고 만족할수는 없는법!

**일단 네이버 도서 API에서는 제공하지 않는다.** <br/>
검색해보면서 나처럼 이미지 크기에 대해서 질문하는 사람들을 보았지만 네이버측에서는 제공 계획이 없다는 답변을 찾을 수 있었고 질문자도 해결방법을 찾지 못한것 같았다.

다른 API를 사용해야하나.. 아니면 이미지만 따로 검색해서 불러올까 고민하다가

# 네이버에 저화질 데이터만 있을리가....

네이버 도서 페이지 소스를 보는 중에 정답을 찾았다

![실행결과](/assets/images/08-09/08_091.png)
네이버 책에서 책을 검색하면 이런 창을 보여준다
![실행결과](/assets/images/08-09/08_092.png)
앞의 창에서 이미지를 클릭하면 더 고화질의 이미지가 보인다
![실행결과](/assets/images/08-09/08_093.png)
페이지의 소스 코드를 잘 찾아본다
![실행결과](/assets/images/08-09/08_094.png)
맨 아래 쯤에 표지 확대 레이어에 다른 url을 가진 이미지가 나온다
![실행결과](/assets/images/08-09/08_095.png)
저화질 이미지
![실행결과](/assets/images/08-09/08_096.png)
고화질 이미지

이렇게 해서 알게된 결론은 네이버 API에서 받는 이미지 url은 저화질 이미지 url이다.

[https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?type=m1&udate=20170103](https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?type=m1&udate=20170103/)

에서 type=m1을 지우면 고화질 이미지로 나온다.

[https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?t&udate=20170103
](https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?t&udate=20170103)

### SWIFT 소스코드

```Swift
//이미지 url String이 있는 bookCount.image에서 "type=m1"문구를 없애고 이미지를 표시한다

do{
let str = bookCount.image.replacingOccurrences(of: "type=m1", with: "")
let url : URL! = URL(string: str)
let imageData = try Data(contentsOf: url)
cell.thumbnailImage.image = UIImage(data: imageData)
}
catch{

}

```

## 아름다운 실행 결과

**_과거의 더러운 이미지_**
![실행결과](/assets/images/08-09/1.png)
**_현재의 아름다운 이미지_**
![실행결과](/assets/images/08-09/2.png)

### 편-안

![실행결과](/assets/images/08-09/gvsc.png)

## Any question?🙋‍

Please email me with any questions or concerns! 😃<br/>
💌 : sch.haeun@gmail.com

```

```
