---
title: 2. Swift 로 네이버 검색 API 사용하기
date: 2018-08-05 00:00:00
categories:
  - Swift
tags:
  - Swift
  - 스위프트
  - 네이버API
---

이 포스트는 Swift4를 기준으로 작성하였습니다.<br/>
Swift에서 네이버 도서 API 공식 문서는 [네이버](https://developers.naver.com/docs/search/book/) 여기서 볼 수 있습니다.

네이버 공식 문서에 자바로 작성된 코드 밖에 없고 구글링을 해도 swift 예제가 안나와서 작성하게되었습니다.

## SWIFT 에서 네이버 검색 API 사용하기 - 서론

준비 사항은 네이버 공식 문서의 '1. 준비 사항' 를 따라 애플리케이션을 등록하고 API 사용에 '검색' 을 추가하면 API 준비가 됩니다.

![애플리케이션 등록](/assets/images/08-05/08-05-1.png)

> 애플리케이션을 새로 만들면 애플리케이션 정보를 얻을 수 있습니다.

![애플리케이션 api 43정](/assets/images/08-05/08-05-2.png)

> 사용 API에 검색을 추가합니다.

## SWIFT 에서 네이버 검색 API 사용하기 - 본론

네이버에서는 JSON 과 XML 두 가지 출력 포맷을 제공합니다.

이 포스트에서는 JSON 로 받았지만 XML 과 크게 다르지 않습니다.

Swift에서 URLSession 문서는 [docs](https://developer.apple.com/documentation/foundation/urlsession#see-also) 여기서 볼 수 있습니다.

### 소스코드

```Swift

func callURL(url1:String,search : String){
//💥💥💥💥본인의 Naver 애플리케이션 정보를 작성!!!💥💥💥💥
let ClientID = "네이버에서 제공받은 clientID"
let ClientSecret = "네이버에서 제공받은 clientSecret"

    let addQuery = url1+search
    let encoded = addQuery.addingPercentEncoding( withAllowedCharacters: NSCharacterSet.urlQueryAllowed)        //한글 검색어도 사용할 수 있도록 함

    //Request
    var request = URLRequest(url: URL(string: encoded!)!)
    request.httpMethod = "GET"                 //Naver 도서 API는 GET
    request.addValue(ClientID,forHTTPHeaderField: "X-Naver-Client-Id")
    request.addValue(ClientSecret,forHTTPHeaderField: "X-Naver-Client-Secret")

    //Session
    let config = URLSessionConfiguration.default
    let session = URLSession(configuration: config)
    //Task
    let task = session.dataTask(with: request) { (data, response, error) in
        //통신 성공
        if let data = data {
            let str = String(data: data, encoding: String.Encoding(rawValue: String.Encoding.utf8.rawValue)) ?? ""
            print(str)

            DispatchQueue.main.async {
                self.Json_TextView.text = str
            }

        }
        //통신 실패
        if let error = error {
            print(error.localizedDescription)
        }
    }

    task.resume()

}

```

## SWIFT 에서 네이버 검색 API 사용하기 - 실행결과

![애플리케이션](/assets/images/08-05/front.png)
![애플리케이션](/assets/images/08-05/result.png)

## 전체 소스 코드 (github)

[GitHub](https://github.com/Haeuncs/Swift_github_post/tree/master/SWIFT_2_Naver_Books_API) 여기서 볼 수 있습니다.

## Any question?🙋‍

Please email me with any questions or concerns! 😃<br/>
💌 : sch.haeun@gmail.com

```

```
