---
title: 2. Swift ë¡œ ë„¤ì´ë²„ ê²€ìƒ‰ API ì‚¬ìš©í•˜ê¸°
date: 2018-08-05 00:00:00
categories:
  - Swift
tags:
  - Swift
  - ìŠ¤ìœ„í”„íŠ¸
  - ë„¤ì´ë²„API
---

ì´ í¬ìŠ¤íŠ¸ëŠ” Swift4ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì‘ì„±í•˜ì˜€ìŠµë‹ˆë‹¤.<br/>
Swiftì—ì„œ ë„¤ì´ë²„ ë„ì„œ API ê³µì‹ ë¬¸ì„œëŠ” [ë„¤ì´ë²„](https://developers.naver.com/docs/search/book/) ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë„¤ì´ë²„ ê³µì‹ ë¬¸ì„œì— ìë°”ë¡œ ì‘ì„±ëœ ì½”ë“œ ë°–ì— ì—†ê³  êµ¬ê¸€ë§ì„ í•´ë„ swift ì˜ˆì œê°€ ì•ˆë‚˜ì™€ì„œ ì‘ì„±í•˜ê²Œë˜ì—ˆìŠµë‹ˆë‹¤.

## SWIFT ì—ì„œ ë„¤ì´ë²„ ê²€ìƒ‰ API ì‚¬ìš©í•˜ê¸° - ì„œë¡ 

ì¤€ë¹„ ì‚¬í•­ì€ ë„¤ì´ë²„ ê³µì‹ ë¬¸ì„œì˜ '1. ì¤€ë¹„ ì‚¬í•­' ë¥¼ ë”°ë¼ ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ë“±ë¡í•˜ê³  API ì‚¬ìš©ì— 'ê²€ìƒ‰' ì„ ì¶”ê°€í•˜ë©´ API ì¤€ë¹„ê°€ ë©ë‹ˆë‹¤.

![ì• í”Œë¦¬ì¼€ì´ì…˜ ë“±ë¡](/assets/images/08-05/08-05-1.png)

> ì• í”Œë¦¬ì¼€ì´ì…˜ì„ ìƒˆë¡œ ë§Œë“¤ë©´ ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

![ì• í”Œë¦¬ì¼€ì´ì…˜ api 43ì •](/assets/images/08-05/08-05-2.png)

> ì‚¬ìš© APIì— ê²€ìƒ‰ì„ ì¶”ê°€í•©ë‹ˆë‹¤.

## SWIFT ì—ì„œ ë„¤ì´ë²„ ê²€ìƒ‰ API ì‚¬ìš©í•˜ê¸° - ë³¸ë¡ 

ë„¤ì´ë²„ì—ì„œëŠ” JSON ê³¼ XML ë‘ ê°€ì§€ ì¶œë ¥ í¬ë§·ì„ ì œê³µí•©ë‹ˆë‹¤.

ì´ í¬ìŠ¤íŠ¸ì—ì„œëŠ” JSON ë¡œ ë°›ì•˜ì§€ë§Œ XML ê³¼ í¬ê²Œ ë‹¤ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.

Swiftì—ì„œ URLSession ë¬¸ì„œëŠ” [docs](https://developer.apple.com/documentation/foundation/urlsession#see-also) ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

### ì†ŒìŠ¤ì½”ë“œ

```Swift

func callURL(url1:String,search : String){
//ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥ë³¸ì¸ì˜ Naver ì• í”Œë¦¬ì¼€ì´ì…˜ ì •ë³´ë¥¼ ì‘ì„±!!!ğŸ’¥ğŸ’¥ğŸ’¥ğŸ’¥
let ClientID = "ë„¤ì´ë²„ì—ì„œ ì œê³µë°›ì€ clientID"
let ClientSecret = "ë„¤ì´ë²„ì—ì„œ ì œê³µë°›ì€ clientSecret"

    let addQuery = url1+search
    let encoded = addQuery.addingPercentEncoding( withAllowedCharacters: NSCharacterSet.urlQueryAllowed)        //í•œê¸€ ê²€ìƒ‰ì–´ë„ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•¨

    //Request
    var request = URLRequest(url: URL(string: encoded!)!)
    request.httpMethod = "GET"                 //Naver ë„ì„œ APIëŠ” GET
    request.addValue(ClientID,forHTTPHeaderField: "X-Naver-Client-Id")
    request.addValue(ClientSecret,forHTTPHeaderField: "X-Naver-Client-Secret")

    //Session
    let config = URLSessionConfiguration.default
    let session = URLSession(configuration: config)
    //Task
    let task = session.dataTask(with: request) { (data, response, error) in
        //í†µì‹  ì„±ê³µ
        if let data = data {
            let str = String(data: data, encoding: String.Encoding(rawValue: String.Encoding.utf8.rawValue)) ?? ""
            print(str)

            DispatchQueue.main.async {
                self.Json_TextView.text = str
            }

        }
        //í†µì‹  ì‹¤íŒ¨
        if let error = error {
            print(error.localizedDescription)
        }
    }

    task.resume()

}

```

## SWIFT ì—ì„œ ë„¤ì´ë²„ ê²€ìƒ‰ API ì‚¬ìš©í•˜ê¸° - ì‹¤í–‰ê²°ê³¼

![ì• í”Œë¦¬ì¼€ì´ì…˜](/assets/images/08-05/front.png)
![ì• í”Œë¦¬ì¼€ì´ì…˜](/assets/images/08-05/result.png)

## ì „ì²´ ì†ŒìŠ¤ ì½”ë“œ (github)

[GitHub](https://github.com/Haeuncs/Swift_github_post/tree/master/SWIFT_2_Naver_Books_API) ì—¬ê¸°ì„œ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## Any question?ğŸ™‹â€

Please email me with any questions or concerns! ğŸ˜ƒ<br/>
ğŸ’Œ : sch.haeun@gmail.com

```

```
