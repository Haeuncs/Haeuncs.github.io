{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-04-16-Swift Animate 를 추가하여 뷰 이동하기/","result":{"data":{"site":{"siteMetadata":{"title":"@_@"}},"markdownRemark":{"id":"e015a2cf-6e96-50f0-8ab8-69f63d085261","excerpt":"왜 View 이동에 animate를 추가하는게 나을까? Button을 누르면 View…","html":"<h2>왜 View 이동에 animate를 추가하는게 나을까?</h2>\n<p>Button을 누르면 View가 교체되는 프로그램이 있다고 쳤을 때 바로 한번에 화면이 바뀌는 것 보다는 바뀌는 애니메이션이 나오는 것이 더 괜찮게 보이게 됩니다.</p>\n<h2>실행 결과 미리보기</h2>\n<p>그래서 오늘 만들고자 하는 프로그램은 아래 이미지와 같습니다.</p>\n<img src=\"/21af800cb12b666195067f54590ed6e1/190416_exampleImage.gif\" width=\"300\">\n<h3>어떻게 만들 것인가?</h3>\n<h4>다음을 누를 때 animate</h4>\n<span class=\"gatsby-resp-image-wrapper\" style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\">\n      <a class=\"gatsby-resp-image-link\" href=\"/static/949eff6ef3aa666b1455a5173304ab37/e7427/IMG02.png\" style=\"display: block\" target=\"_blank\" rel=\"noopener\">\n    <span class=\"gatsby-resp-image-background-image\" style=\"padding-bottom: 124.28571428571429%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAZCAYAAAAxFw7TAAAACXBIWXMAABYlAAAWJQFJUiTwAAACEklEQVQ4y5VVy26cMBSdv+uyi35Dl+2n9CP6GZGibFo1XVVpkqoCBkICoxmNeA3DI2B8at/B1BAGGFtX1+Drw7kvs+KcQ42maSCfafL/ovZYw3rvhyLHqjNmDGEUIsszAmTiXcNPIve2+x12WYCpIUEJkMDCEFESIy/yUWMFHscxwiAkezoTRdjv97QmhopqVVe4u3/E/eMfbLZbWLYNx33Gr7vf+GsY4kMF2ZVliTzPSQrxTopa9wCl247rwn15gbfZwH5y8ex5MKw14iRBxWoKxazLHaBwx/c35EJyOMDzffgCODkkynwyIV1SThk9HYhQI+FVP3YyHCK7NWdg4qPEkgN6deijYygNM1YhF/La1CilCDcLdloXQl4FMC4BjFiJXZULNg2xwUjMdPtpQKEVE6nlEUvE7/31NT7c3ODd1RW+PDy08eYTDJUL7ZSrhtgBfpbh049bfL79iY/fvuOraS0A1Biq4qU54bKeVT4AX6lYSC2BeMtQadYKH4EfY3kWUIl8rkWmY9GW6TGlrkjTlDpmMUOuxVFeFqZpwnZsGKYBT3RPEAQ4Ho+XA0ote1x1y7BUFrs8BFWtOXZPXsxQjyXpM0CLAMdA5ztFB+RvszwE0+3nAaEdHkxV8JcBtqUis2pZFtbrNZwnhzLdxW0OsLfJ37ZXL/idOn9z9xjqQR/tYSxk2AEOSmK05mb+K/8AuMutrPvOkcYAAAAASUVORK5CYII=&apos;); background-size: cover; display: block;\"></span>\n  <img class=\"gatsby-resp-image-image\" alt=\"IMG02\" title=\"IMG02\" src=\"/static/949eff6ef3aa666b1455a5173304ab37/799d3/IMG02.png\" srcset=\"/static/949eff6ef3aa666b1455a5173304ab37/00d96/IMG02.png 148w,\n/static/949eff6ef3aa666b1455a5173304ab37/0b23c/IMG02.png 295w,\n/static/949eff6ef3aa666b1455a5173304ab37/799d3/IMG02.png 590w,\n/static/949eff6ef3aa666b1455a5173304ab37/2a3d6/IMG02.png 885w,\n/static/949eff6ef3aa666b1455a5173304ab37/ae92f/IMG02.png 1180w,\n/static/949eff6ef3aa666b1455a5173304ab37/e7427/IMG02.png 1260w\" sizes=\"(max-width: 590px) 100vw, 590px\" style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\" loading=\"lazy\">\n  </a>\n    </span>\n<p>현재 뷰를 왼쪽으로 이동시켜 보이지 않게 하기 위해서는</p>\n<p>view.bounds.width 크기 만큼 왼쪽으로 이동하면 됩니다.</p>\n<blockquote>\n<p>currentView가 현재 뷰</p>\n</blockquote>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">        <span class=\"token builtin\">UIView</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>withDuration<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n            currentView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>translationX<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">self</span> <span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>  <span class=\"token number\">_</span>   <span class=\"token keyword\">in</span>\n\n            <span class=\"token comment\">// 뷰컨트롤 스와이프할 때 뷰 겹쳐보이는거 노노</span>\n\n            currentView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span>  <span class=\"token boolean\">true</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>그럼 반대로 앞으로 보일 뷰가 이동하기 위해서는 어떻게 해야 할까요?</p>\n<p>현재 뷰를 옮긴 것 처럼 왼쪽으로 이동시키면 됩니다.</p>\n<p>먼저 앞으로 보여질 뷰의 x 위치를 self.view.bounds.width로 하고 0까지 transform 하면 된다.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">        willView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token builtin\">CGAffineTransform</span><span class=\"token punctuation\">.</span>identity<span class=\"token punctuation\">.</span><span class=\"token function\">translatedBy</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span>  <span class=\"token keyword\">self</span> <span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        willView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span>  <span class=\"token boolean\">false</span>\n\n        <span class=\"token builtin\">UIView</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>withDuration<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n            willView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>translationX<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<p>이 두 코드를 합치면 원래 뷰는 없어지고 앞으로 보일 뷰가 나오게 됩니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">     <span class=\"token keyword\">func</span>  <span class=\"token function\">showAnimateNextView</span><span class=\"token punctuation\">(</span>currentView<span class=\"token punctuation\">:</span><span class=\"token builtin\">UIView</span><span class=\"token punctuation\">,</span>willView<span class=\"token punctuation\">:</span><span class=\"token builtin\">UIView</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n        willView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token builtin\">CGAffineTransform</span><span class=\"token punctuation\">.</span>identity<span class=\"token punctuation\">.</span><span class=\"token function\">translatedBy</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span>  <span class=\"token keyword\">self</span> <span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        willView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span>  <span class=\"token boolean\">false</span>\n\n        <span class=\"token builtin\">UIView</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>withDuration<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n            willView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>translationX<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n            currentView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>translationX<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span><span class=\"token punctuation\">(</span> <span class=\"token keyword\">self</span> <span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>  <span class=\"token number\">_</span>   <span class=\"token keyword\">in</span>\n\n            <span class=\"token comment\">// 뷰컨트롤 스와이프할 때 뷰 겹쳐보이는거 노노</span>\n\n            currentView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span>  <span class=\"token boolean\">true</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h4>이전을 누를 때 animate</h4>\n<p>이전을 누를 때 transform 도 잠깐 생각하면 만들 수 있습니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\">     <span class=\"token keyword\">func</span>  <span class=\"token function\">showAnimatePrevView</span><span class=\"token punctuation\">(</span>currentView<span class=\"token punctuation\">:</span><span class=\"token builtin\">UIView</span><span class=\"token punctuation\">,</span>willView<span class=\"token punctuation\">:</span><span class=\"token builtin\">UIView</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">{</span>\n\n        willView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token builtin\">CGAffineTransform</span><span class=\"token punctuation\">.</span>identity<span class=\"token punctuation\">.</span><span class=\"token function\">translatedBy</span><span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">:</span> <span class=\"token operator\">-</span> <span class=\"token keyword\">self</span> <span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        willView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span>  <span class=\"token boolean\">false</span>\n\n        <span class=\"token builtin\">UIView</span><span class=\"token punctuation\">.</span><span class=\"token function\">animate</span><span class=\"token punctuation\">(</span>withDuration<span class=\"token punctuation\">:</span> <span class=\"token number\">1</span><span class=\"token punctuation\">,</span> animations<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span>\n\n            willView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>translationX<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n            currentView<span class=\"token punctuation\">.</span>transform <span class=\"token operator\">=</span> <span class=\"token function\">CGAffineTransform</span><span class=\"token punctuation\">(</span>translationX<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">(</span> <span class=\"token keyword\">self</span> <span class=\"token punctuation\">.</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">.</span>width<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> y<span class=\"token punctuation\">:</span> <span class=\"token number\">0</span><span class=\"token punctuation\">)</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span> completion<span class=\"token punctuation\">:</span> <span class=\"token punctuation\">{</span> <span class=\"token number\">_</span> <span class=\"token keyword\">in</span>\n\n            currentView<span class=\"token punctuation\">.</span>isHidden <span class=\"token operator\">=</span>  <span class=\"token boolean\">true</span>\n\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n\n    <span class=\"token punctuation\">}</span></code></pre></div>\n<h2>Any question?🙋‍</h2>\n<p>코드에 문제가 있거나 어떤 질문이든 편하게 메일을 보내주세요!</p>\n<p>Please email me with any questions or concerns! 😃<br/>\n💌 : sch.haeun@gmail.com</p>","frontmatter":{"title":"Swift Animate를 추가하여 뷰 이동시키기","date":"April 16, 2019","description":null}}},"pageContext":{"slug":"/2019-04-16-Swift Animate 를 추가하여 뷰 이동하기/","previous":{"fields":{"slug":"/2019-04-15-Swift 앱만들기/"},"frontmatter":{"title":"Swift 앱을 만들 때 도움이 되는 사이트"}},"next":{"fields":{"slug":"/2019-04-22-Swift 로 TableView(혹은 CollectionView) auto Height 만들기/"},"frontmatter":{"title":"Swift 로 TableView(혹은 CollectionView) auto Height 만들기"}}}}}