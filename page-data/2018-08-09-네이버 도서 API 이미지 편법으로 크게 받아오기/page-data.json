{"componentChunkName":"component---src-templates-blog-post-js","path":"/2018-08-09-네이버 도서 API 이미지 편법으로 크게 받아오기/","result":{"data":{"site":{"siteMetadata":{"title":"@_@"}},"markdownRemark":{"id":"f80ece55-2cb9-589b-9b41-83141d9acbe0","excerpt":"대체 왜 네이버 API에서는 고화질 이미지를 제공하지 않는가! 네이버 도서 API…","html":"<h1>대체 왜 네이버 API에서는 고화질 이미지를 제공하지 않는가!</h1>\n<p>네이버 도서 API 데이터를 기반으로 만들고 있던 앱을 거의 완성하고 디테일을 손보는 중에…<br/>\n이미지의 해상도가 매우 낮은 것을 발견했다. 물론 코딩하면서 알아채긴 했지만 이미지를 작게 손보는거로 해결하긴 했었다.<br/>\n하지만 기능이 제대로 돌아간다고 만족할수는 없는법!</p>\n<p><strong>일단 네이버 도서 API에서는 제공하지 않는다.</strong> <br/>\n검색해보면서 나처럼 이미지 크기에 대해서 질문하는 사람들을 보았지만 네이버측에서는 제공 계획이 없다는 답변을 찾을 수 있었고 질문자도 해결방법을 찾지 못한것 같았다.</p>\n<p>다른 API를 사용해야하나.. 아니면 이미지만 따로 검색해서 불러올까 고민하다가</p>\n<h1>네이버에 저화질 데이터만 있을리가…</h1>\n<p>네이버 도서 페이지 소스를 보는 중에 정답을 찾았다</p>\n<p><img src=\"/assets/images/08-09/08_091.png\" alt=\"실행결과\">\n네이버 책에서 책을 검색하면 이런 창을 보여준다\n<img src=\"/assets/images/08-09/08_092.png\" alt=\"실행결과\">\n앞의 창에서 이미지를 클릭하면 더 고화질의 이미지가 보인다\n<img src=\"/assets/images/08-09/08_093.png\" alt=\"실행결과\">\n페이지의 소스 코드를 잘 찾아본다\n<img src=\"/assets/images/08-09/08_094.png\" alt=\"실행결과\">\n맨 아래 쯤에 표지 확대 레이어에 다른 url을 가진 이미지가 나온다\n<img src=\"/assets/images/08-09/08_095.png\" alt=\"실행결과\">\n저화질 이미지\n<img src=\"/assets/images/08-09/08_096.png\" alt=\"실행결과\">\n고화질 이미지</p>\n<p>이렇게 해서 알게된 결론은 네이버 API에서 받는 이미지 url은 저화질 이미지 url이다.</p>\n<p><a href=\"https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?type=m1&#x26;udate=20170103/\">https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?type=m1&#x26;udate=20170103</a></p>\n<p>에서 type=m1을 지우면 고화질 이미지로 나온다.</p>\n<p><a href=\"https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?t&#x26;udate=20170103\">https://bookthumb-phinf.pstatic.net/cover/066/001/06600168.jpg?t&#x26;udate=20170103\n</a></p>\n<h3>SWIFT 소스코드</h3>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token comment\">//이미지 url String이 있는 bookCount.image에서 \"type=m1\"문구를 없애고 이미지를 표시한다</span>\n\n<span class=\"token keyword\">do</span><span class=\"token punctuation\">{</span>\n<span class=\"token keyword\">let</span> str <span class=\"token operator\">=</span> bookCount<span class=\"token punctuation\">.</span>image<span class=\"token punctuation\">.</span><span class=\"token function\">replacingOccurrences</span><span class=\"token punctuation\">(</span>of<span class=\"token punctuation\">:</span> <span class=\"token string\">\"type=m1\"</span><span class=\"token punctuation\">,</span> with<span class=\"token punctuation\">:</span> <span class=\"token string\">\"\"</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> url <span class=\"token punctuation\">:</span> <span class=\"token constant\">URL</span><span class=\"token operator\">!</span> <span class=\"token operator\">=</span> <span class=\"token function\">URL</span><span class=\"token punctuation\">(</span>string<span class=\"token punctuation\">:</span> str<span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">let</span> imageData <span class=\"token operator\">=</span> <span class=\"token keyword\">try</span> <span class=\"token function\">Data</span><span class=\"token punctuation\">(</span>contentsOf<span class=\"token punctuation\">:</span> url<span class=\"token punctuation\">)</span>\ncell<span class=\"token punctuation\">.</span>thumbnailImage<span class=\"token punctuation\">.</span>image <span class=\"token operator\">=</span> <span class=\"token function\">UIImage</span><span class=\"token punctuation\">(</span>data<span class=\"token punctuation\">:</span> imageData<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n<span class=\"token keyword\">catch</span><span class=\"token punctuation\">{</span>\n\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h2>아름다운 실행 결과</h2>\n<p><strong><em>과거의 더러운 이미지</em></strong>\n<img src=\"/assets/images/08-09/1.png\" alt=\"실행결과\">\n<strong><em>현재의 아름다운 이미지</em></strong>\n<img src=\"/assets/images/08-09/2.png\" alt=\"실행결과\"></p>\n<h3>편-안</h3>\n<p><img src=\"/assets/images/08-09/gvsc.png\" alt=\"실행결과\"></p>\n<h2>Any question?🙋‍</h2>\n<p>Please email me with any questions or concerns! 😃<br/>\n💌 : sch.haeun@gmail.com</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\"></code></pre></div>","frontmatter":{"title":"네이버 도서 API 이미지 편법(?)으로 크게 받아오기","date":"August 09, 2018","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2018-08-09-네이버 도서 API 이미지 편법으로 크게 받아오기/","previous":{"fields":{"slug":"/2018-08-03-Swift 로 네이버 검색 API 사용하기/"},"frontmatter":{"title":"2. Swift 로 네이버 검색 API 사용하기"}},"next":{"fields":{"slug":"/2019-10-13-Swift 현재 앱 버전 가져오기/"},"frontmatter":{"title":"Swift 현재 앱 버전 가져오기"}}}}}