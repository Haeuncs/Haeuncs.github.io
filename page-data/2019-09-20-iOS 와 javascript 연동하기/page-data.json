{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-09-20-iOS ì™€ javascript ì—°ë™í•˜ê¸°/","result":{"data":{"site":{"siteMetadata":{"title":"@_@"}},"markdownRemark":{"id":"6500d56a-01f6-5efe-8393-4e8709880a98","excerpt":"Web í™”ë©´ì„ iOSì•±ì—ì„œ ë§ˆì¹˜ ì•±ì²˜ëŸ¼ ë³´ì—¬ì£¼ëŠ” ì•±ë“¤ì´ ë§ì•„ì¡Œê³  ì € ë˜í•œ ê¸°ì¡´ ì•±ì˜ í™”ë©´ì„ webìœ¼ë¡œ ë°”ê¾¸ëŠ” ì‘ì—…ì„ í–ˆê³  ë°©ë²•ì„ ê³µìœ í•©ë‹ˆë‹¤ ğŸ‘» Java Script â†’ iOSë¡œ ì´ë²¤íŠ¸ ì „ë‹¬","html":"<p>Web í™”ë©´ì„ iOSì•±ì—ì„œ ë§ˆì¹˜ ì•±ì²˜ëŸ¼ ë³´ì—¬ì£¼ëŠ” ì•±ë“¤ì´ ë§ì•„ì¡Œê³  ì € ë˜í•œ ê¸°ì¡´ ì•±ì˜ í™”ë©´ì„ webìœ¼ë¡œ ë°”ê¾¸ëŠ” ì‘ì—…ì„ í–ˆê³  ë°©ë²•ì„ ê³µìœ í•©ë‹ˆë‹¤ ğŸ‘»</p>\n<h1>Java Script â†’ iOSë¡œ ì´ë²¤íŠ¸ ì „ë‹¬</h1>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\">    window<span class=\"token punctuation\">.</span>webkit<span class=\"token punctuation\">.</span>messageHandlers<span class=\"token punctuation\">.</span>ì—¬ê¸°ì—Swiftì—ì„œ ì¸ì‹í•  ì´ë¦„ì„ ì¨ì£¼ì„¸ìš”<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\nonClick ì´ë²¤íŠ¸ ë¡œ ì´ë ‡ê²Œ í˜¸ì¶œí•˜ë©´ iOS ìƒìœ¼ë¡œ messageë¥¼ ë°›ì„ ìˆ˜ ìˆë‹¤.\n\njavascript ì—ì„œ post Messageë¡œ String íƒ€ì…ê³¼ JSON íƒ€ì… 2ê°œë¥¼ ë³´ë‚¸ë‹¤ë©´\n\nì˜ˆë¡œë“¤ì–´,\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>JavaScript\n\n    <span class=\"token keyword\">const</span> <span class=\"token function-variable function\">scriptHandler</span> <span class=\"token operator\">=</span> <span class=\"token parameter\">item</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      console<span class=\"token punctuation\">.</span><span class=\"token function\">log</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token keyword\">try</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">const</span> itemJson <span class=\"token operator\">=</span> <span class=\"token constant\">JSON</span><span class=\"token punctuation\">.</span><span class=\"token function\">stringify</span><span class=\"token punctuation\">(</span>item<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n        window<span class=\"token punctuation\">.</span>webkit<span class=\"token punctuation\">.</span>messageHandlers<span class=\"token punctuation\">.</span>ì—¬ê¸°ì—Swiftì—ì„œ ì¸ì‹í•  ì´ë¦„ì„ ì¨ì£¼ì„¸ìš”<span class=\"token punctuation\">.</span><span class=\"token function\">postMessage</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span>\n          type<span class=\"token punctuation\">:</span> <span class=\"token string\">\"recommendItem\"</span><span class=\"token punctuation\">,</span>\n          value<span class=\"token punctuation\">:</span> itemJson\n        <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span> <span class=\"token keyword\">catch</span> <span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token function\">alert</span><span class=\"token punctuation\">(</span>error<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n      <span class=\"token punctuation\">}</span>\n    <span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\nì´ëŸ° ì‹ìœ¼ë¡œ iOSë¡œ ë³´ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.\n\nWKWebView ë¥¼ ì„¤ì •í•  ë•Œ ìˆëŠ” configuration ì´ java script ì™€ ì—°ê²°ì„ ë„ì™€ì¤€ë‹¤.\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>Swift\n\n    <span class=\"token keyword\">let</span> contentController <span class=\"token operator\">=</span> <span class=\"token function\">WKUserContentController</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    contentController<span class=\"token punctuation\">.</span><span class=\"token function\">add</span><span class=\"token punctuation\">(</span>self<span class=\"token punctuation\">,</span> name<span class=\"token punctuation\">:</span> <span class=\"token string\">\"ì—¬ê¸°ì—Swiftì—ì„œ ì¸ì‹í•  ì´ë¦„ì„ ì¨ì£¼ì„¸ìš”\"</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">let</span> configuration <span class=\"token operator\">=</span> <span class=\"token function\">WKWebViewConfiguration</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    configuration<span class=\"token punctuation\">.</span>userContentController <span class=\"token operator\">=</span> contentController\n\n    self<span class=\"token punctuation\">.</span>webView <span class=\"token operator\">=</span> <span class=\"token function\">WKWebView</span><span class=\"token punctuation\">(</span>frame<span class=\"token punctuation\">:</span>view<span class=\"token punctuation\">.</span>bounds<span class=\"token punctuation\">,</span> configuration<span class=\"token punctuation\">:</span> configuration<span class=\"token punctuation\">)</span>\n\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\nê·¸ ë‹¤ìŒ js ì—ì„œ messageë¥¼ ë³´ë‚¼ë•Œ ë§ˆë‹¤ ë°›ì„ ìˆ˜ ìˆë„ë¡\n\n</span><span class=\"token template-punctuation string\">`</span></span>WKScriptMessageHandler<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\"> í”„ë¡œí† ì½œì„ ì‘ì„±í•œë‹¤.\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>Swift\n\n    extension HomeViewController<span class=\"token punctuation\">:</span> WKScriptMessageHandler <span class=\"token punctuation\">{</span>\n    func <span class=\"token function\">userContentController</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">_ userContentController<span class=\"token punctuation\">:</span> WKUserContentController<span class=\"token punctuation\">,</span> didReceive message<span class=\"token punctuation\">:</span> WKScriptMessage</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        <span class=\"token keyword\">if</span> <span class=\"token keyword\">let</span> json <span class=\"token operator\">=</span> message<span class=\"token punctuation\">.</span>body <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> <span class=\"token punctuation\">[</span>String<span class=\"token punctuation\">:</span>Any<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">,</span> <span class=\"token keyword\">let</span> jsonType <span class=\"token operator\">=</span> json<span class=\"token punctuation\">[</span><span class=\"token string\">\"type\"</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">as</span><span class=\"token operator\">?</span> String<span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">switch</span> jsonType <span class=\"token punctuation\">{</span>\n          <span class=\"token keyword\">case</span> <span class=\"token string\">\"recommendItem\"</span><span class=\"token punctuation\">:</span>\n    \t\t\t\t<span class=\"token comment\">// ì—¬ê¸°ì„œ í•´ì•¼í•  ê²ƒë“¤ ì •ì˜ :)</span>\n          <span class=\"token keyword\">default</span><span class=\"token punctuation\">:</span>\n            <span class=\"token keyword\">return</span>\n          <span class=\"token punctuation\">}</span>\n        <span class=\"token punctuation\">}</span>\n\n    <span class=\"token punctuation\">}</span>\n\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>`\n\në <span class=\"token operator\">!</span>\n\n## Any question<span class=\"token operator\">?</span>ğŸ™‹â€\n\nì½”ë“œì— ë¬¸ì œê°€ ìˆê±°ë‚˜ ì–´ë–¤ ì§ˆë¬¸ì´ë“  í¸í•˜ê²Œ ë©”ì¼ì„ ë³´ë‚´ì£¼ì„¸ìš”<span class=\"token operator\">!</span>\n\nPlease email me <span class=\"token keyword\">with</span> any questions or concerns<span class=\"token operator\">!</span> ğŸ˜ƒ<span class=\"token operator\">&lt;</span>br<span class=\"token operator\">/</span><span class=\"token operator\">></span>\nğŸ’Œ <span class=\"token punctuation\">:</span> haeun<span class=\"token punctuation\">.</span>developer@gmail<span class=\"token punctuation\">.</span>com</code></pre></div>","frontmatter":{"title":"iOS ì™€ javascript ì—°ë™í•˜ê¸°","date":"September 20, 2019","description":null}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/2019-09-20-iOS ì™€ javascript ì—°ë™í•˜ê¸°/","previous":{"fields":{"slug":"/2019-08-05-Swift Zeplin Style Shadow/"},"frontmatter":{"title":"Swift Zeplin Style Shadow ì¶”ê°€í•˜ê¸°"}},"next":{"fields":{"slug":"/2019-10-13-js ë”•ì…”ë„ˆë¦¬ ê°’ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸°/"},"frontmatter":{"title":"js ë”•ì…”ë„ˆë¦¬ ê°’ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ê¸°"}}}}}