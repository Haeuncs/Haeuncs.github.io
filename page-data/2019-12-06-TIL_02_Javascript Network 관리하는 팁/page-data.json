{"componentChunkName":"component---src-templates-blog-post-js","path":"/2019-12-06-TIL_02_Javascript Network 관리하는 팁/","result":{"data":{"site":{"siteMetadata":{"title":"@_@"}},"markdownRemark":{"id":"e2c173e0-d872-53b0-afcb-74cdcd93ab0a","excerpt":"왜 관리하는 방식을 바꿨나? 개발하는 서비스에서 Network 통신 부분을 별도의 js…","html":"<h1>왜 관리하는 방식을 바꿨나?</h1>\n<p>개발하는 서비스에서 Network 통신 부분을 별도의 js 파일로 관리하여 호출하고 있다.\n<br/>\n하나의 네트워크 통신에 하나의 함수로 정의하고 있었기 때문에 코드가 한눈에 안들어온다는 문제가 있었다.\n<br/>\n과거에는 네트워크 호출하는게 몇개 없어서 불편하다고 생각도 못했는데 점점 증가하면서 가독성이 매우 떨어졌고 그래서 고쳐야겠다는 생각을 했다.\n<br/>\n그래서 어떻게 하면 네트워크를 간결하게 짤 수 있을까? 라는 생각에서 방법을 생각해봤다!\n<br/>\n<br/></p>\n<p>과거의 내 코드는 export 문은 이렇게 복잡했다.\n<br/></p>\n<h1>과거 코드</h1>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">export</span> <span class=\"token punctuation\">{</span>\nredirectOnError<span class=\"token punctuation\">,</span>\nreqLogin<span class=\"token punctuation\">,</span>\ngetClientList<span class=\"token punctuation\">,</span>\ngetClientInfo<span class=\"token punctuation\">,</span>\ngetStylistInfo<span class=\"token punctuation\">,</span>\nsetStylistInfo<span class=\"token punctuation\">,</span>\ngetStyleBookState<span class=\"token punctuation\">,</span>\nsetStyleBookState<span class=\"token punctuation\">,</span>\nnetCompleteReport<span class=\"token punctuation\">,</span>\nnetTmpCompleteReport<span class=\"token punctuation\">,</span>\nnetCompleteReportNewVersion<span class=\"token punctuation\">,</span>\ngetTmpCompleteReport<span class=\"token punctuation\">,</span>\nphotoUpload<span class=\"token punctuation\">,</span>\nstylistAdminPhotoUpload<span class=\"token punctuation\">,</span>\ngetAllReview<span class=\"token punctuation\">,</span>\ngetSearchItem<span class=\"token punctuation\">,</span>\ngetLikeItem<span class=\"token punctuation\">,</span>\naddLikeItem<span class=\"token punctuation\">,</span>\ndeleteLikeItem\n<span class=\"token operator\">...</span> 등등\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\n&lt;br/>\n\n함수 개수도 너무 많고 함수명을 다 읽어야지만 그 함수의 의미를 파악할 수 있는 코드였다. 😟\n&lt;br/>\n\n그래서 변경한 코드는 딕셔너리의 value 값에 네트워크 함수를 호출하고 반환하는 식으로 작성했다.\n&lt;br/>\n\n# 변경 코드\n\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>JavaScript\n\n<span class=\"token keyword\">const</span> Review <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">basicGetResponse</span><span class=\"token punctuation\">(</span>serverUrl <span class=\"token operator\">+</span> <span class=\"token string\">'/styleManagement/review/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> Stylist <span class=\"token operator\">=</span> <span class=\"token punctuation\">{</span>\n  <span class=\"token function-variable function\">get</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">return</span> <span class=\"token function\">basicGetResponse</span><span class=\"token punctuation\">(</span>serverUrl <span class=\"token operator\">+</span> <span class=\"token string\">'/styleManagement/myInfo/'</span><span class=\"token punctuation\">,</span> <span class=\"token punctuation\">{</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n    <span class=\"token function-variable function\">set</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">(</span><span class=\"token parameter\">stylistInfoData<span class=\"token punctuation\">,</span> styleBookState</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n      <span class=\"token keyword\">return</span> <span class=\"token function\">setStylistInfo</span><span class=\"token punctuation\">(</span>stylistInfoData<span class=\"token punctuation\">,</span> styleBookState<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token string\">\n\n&lt;br/>\n\n</span><span class=\"token template-punctuation string\">`</span></span><span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>JavaScript\n\n<span class=\"token keyword\">import</span> \\<span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> Network <span class=\"token keyword\">from</span> <span class=\"token string\">'../src/api/network'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token operator\">...</span><span class=\"token punctuation\">.</span>\n\n<span class=\"token keyword\">await</span> Network<span class=\"token punctuation\">.</span>Like<span class=\"token punctuation\">.</span><span class=\"token function\">get</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">.</span><span class=\"token function\">then</span><span class=\"token punctuation\">(</span><span class=\"token parameter\">res</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">orderData</span><span class=\"token punctuation\">(</span>res<span class=\"token punctuation\">.</span>items<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span>\n  <span class=\"token punctuation\">.</span><span class=\"token function\">catch</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n    <span class=\"token function\">redirectOnError</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token template-string\"><span class=\"token template-punctuation string\">`</span><span class=\"token template-punctuation string\">`</span></span>`\n\n호출하는 방식도 가독성이 좋고 이쁘게 되었다 🤠</code></pre></div>","frontmatter":{"title":"TIL_02_Javascript Network 관리하는 팁.md","date":"December 06, 2019","description":null}}},"pageContext":{"slug":"/2019-12-06-TIL_02_Javascript Network 관리하는 팁/","previous":{"fields":{"slug":"/2019-12-06-CSS 사진 1:1 or 비율로 만들기/"},"frontmatter":{"title":"CSS 사진 1:1 or 비율로 만들기"}},"next":{"fields":{"slug":"/2019-12-09-SwiftUI Custom TabView 만들기/"},"frontmatter":{"title":"SwiftUI Custom TabView 만들기"}}}}}